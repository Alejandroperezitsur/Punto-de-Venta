import{c,u as C,r as s,d as e,S as w,B as p,h as S,I as r,i as M,j as A,e as x,C as P}from"./index-DpaXIdRB.js";import{C as j}from"./check-DpoXrHyr.js";import{B as I,P as L}from"./percent-DlJVfGV_.js";/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],q=c("globe",R);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],F=c("mail",T);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],B=c("palette",U);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],z=c("phone",X);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],V=c("receipt",D);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],G=c("save",$),o=({title:i,icon:d,children:a})=>e.createElement(P,{className:"p-6 space-y-4"},e.createElement("div",{className:"flex items-center gap-3 border-b border-[hsl(var(--border))] pb-3 mb-2"},e.createElement(d,{className:"h-5 w-5 text-[hsl(var(--primary))]"}),e.createElement("h3",{className:"font-semibold text-lg"},i)),a),Z=()=>{const{toggleTheme:i,theme:d}=C(),[a,g]=s.useState({}),[f,b]=s.useState(!0),[N,E]=s.useState(!1),[u,h]=s.useState(!1),y=async()=>{b(!0);try{const t=await x("/settings");g(t)}catch(t){console.error(t)}finally{b(!1)}};s.useEffect(()=>{y()},[]);const l=(t,m)=>{g(n=>({...n,[t]:m})),h(!1)},k=async()=>{E(!0);try{await x("/settings",{method:"PUT",body:JSON.stringify(a)}),h(!0),setTimeout(()=>h(!1),3e3)}catch(t){alert("Error al guardar: "+t.message)}finally{E(!1)}},_=t=>{var v;const m=(v=t.target.files)==null?void 0:v[0];if(!m)return;const n=new FileReader;n.onload=()=>{l("business_logo",String(n.result||""))},n.readAsDataURL(m)};return f?e.createElement("div",{className:"flex items-center justify-center h-64 text-[hsl(var(--muted-foreground))]"},"Cargando configuración..."):e.createElement("div",{className:"space-y-6 max-w-4xl mx-auto pb-20"},e.createElement("div",{className:"flex justify-between items-center"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement(w,{className:"h-6 w-6 text-[hsl(var(--primary))]"}),e.createElement("h1",{className:"text-2xl font-bold"},"Configuración del Sistema")),e.createElement(p,{onClick:k,isLoading:N,disabled:u},u?e.createElement(j,{className:"h-4 w-4 mr-2"}):e.createElement(G,{className:"h-4 w-4 mr-2"}),u?"Guardado":"Guardar Cambios")),e.createElement(o,{title:"Información del Negocio",icon:S},e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},e.createElement("div",null,e.createElement("label",{className:"text-xs font-medium mb-1 block"},"Nombre del Negocio"),e.createElement(r,{placeholder:"Mi Tienda",value:a.business_name||"",onChange:t=>l("business_name",t.target.value),icon:I})),e.createElement("div",null,e.createElement("label",{className:"text-xs font-medium mb-1 block"},"RFC"),e.createElement(r,{placeholder:"XAXX010101000",value:a.business_rfc||"",onChange:t=>l("business_rfc",t.target.value)})),e.createElement("div",{className:"md:col-span-2"},e.createElement("label",{className:"text-xs font-medium mb-1 block"},"Dirección"),e.createElement(r,{placeholder:"Calle, Número, Colonia, CP, Ciudad",value:a.business_address||"",onChange:t=>l("business_address",t.target.value),icon:q})),e.createElement("div",null,e.createElement("label",{className:"text-xs font-medium mb-1 block"},"Teléfono"),e.createElement(r,{placeholder:"+52 55 1234 5678",value:a.business_phone||"",onChange:t=>l("business_phone",t.target.value),icon:z})),e.createElement("div",null,e.createElement("label",{className:"text-xs font-medium mb-1 block"},"Email"),e.createElement(r,{type:"email",placeholder:"contacto@mitienda.com",value:a.business_email||"",onChange:t=>l("business_email",t.target.value),icon:F})),e.createElement("div",{className:"md:col-span-2"},e.createElement("label",{className:"text-xs font-medium mb-1 block"},"Logo del Negocio"),e.createElement("div",{className:"flex items-center gap-4"},a.business_logo?e.createElement("img",{src:a.business_logo,alt:"Logo",className:"h-16 w-16 object-contain rounded-lg border border-[hsl(var(--border))]"}):e.createElement("div",{className:"h-16 w-16 rounded-lg border-2 border-dashed border-[hsl(var(--border))] flex items-center justify-center"},e.createElement(M,{className:"h-6 w-6 text-[hsl(var(--muted-foreground))]"})),e.createElement("div",null,e.createElement("input",{type:"file",accept:"image/*",onChange:_,className:"hidden",id:"logo-upload"}),e.createElement("label",{htmlFor:"logo-upload"},e.createElement(p,{as:"span",variant:"outline",className:"cursor-pointer"},"Subir Logo")),a.business_logo&&e.createElement(p,{variant:"ghost",className:"ml-2 text-red-500",onClick:()=>l("business_logo","")},"Eliminar")))))),e.createElement(o,{title:"Impuestos y Moneda",icon:L},e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4"},e.createElement("div",null,e.createElement("label",{className:"text-xs font-medium mb-1 block"},"Moneda"),e.createElement("select",{className:"flex h-10 w-full rounded-md border border-[hsl(var(--border))] bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-[hsl(var(--primary))]",value:a.currency||"MXN",onChange:t=>l("currency",t.target.value)},e.createElement("option",{value:"MXN"},"MXN - Peso Mexicano"),e.createElement("option",{value:"USD"},"USD - Dólar"),e.createElement("option",{value:"EUR"},"EUR - Euro"),e.createElement("option",{value:"COP"},"COP - Peso Colombiano"),e.createElement("option",{value:"ARS"},"ARS - Peso Argentino"))),e.createElement("div",null,e.createElement("label",{className:"text-xs font-medium mb-1 block"},"Nombre del Impuesto"),e.createElement(r,{placeholder:"IVA",value:a.tax_name||"IVA",onChange:t=>l("tax_name",t.target.value)})),e.createElement("div",null,e.createElement("label",{className:"text-xs font-medium mb-1 block"},"Tasa de Impuesto (%)"),e.createElement(r,{type:"number",step:"0.01",placeholder:"16",value:(parseFloat(a.tax_rate||.16)*100).toFixed(0),onChange:t=>l("tax_rate",(parseFloat(t.target.value)/100).toFixed(4))})),e.createElement("div",{className:"md:col-span-3"},e.createElement("label",{className:"flex items-center gap-3 cursor-pointer"},e.createElement("input",{type:"checkbox",className:"h-4 w-4 rounded border-[hsl(var(--border))]",checked:a.tax_included==="1",onChange:t=>l("tax_included",t.target.checked?"1":"0")}),e.createElement("span",{className:"text-sm"},"Los precios ya incluyen impuestos"))))),e.createElement(o,{title:"Configuración de Tickets",icon:V},e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},e.createElement("div",null,e.createElement("label",{className:"text-xs font-medium mb-1 block"},"Ancho del Ticket (mm)"),e.createElement("select",{className:"flex h-10 w-full rounded-md border border-[hsl(var(--border))] bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-[hsl(var(--primary))]",value:a.ticket_width||"80",onChange:t=>l("ticket_width",t.target.value)},e.createElement("option",{value:"58"},"58mm (Pequeño)"),e.createElement("option",{value:"80"},"80mm (Estándar)"))),e.createElement("div",null,e.createElement("label",{className:"text-xs font-medium mb-1 block"},"Mensaje de Pie"),e.createElement(r,{placeholder:"¡Gracias por su compra!",value:a.ticket_footer||"",onChange:t=>l("ticket_footer",t.target.value)})))),e.createElement(o,{title:"Apariencia",icon:B},e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4"},e.createElement("div",null,e.createElement("label",{className:"text-xs font-medium mb-1 block"},"Tema"),e.createElement("select",{className:"flex h-10 w-full rounded-md border border-[hsl(var(--border))] bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-[hsl(var(--primary))]",value:d,onChange:t=>{i()}},e.createElement("option",{value:"light"},"Claro"),e.createElement("option",{value:"dark"},"Oscuro"))),e.createElement("div",null,e.createElement("label",{className:"text-xs font-medium mb-1 block"},"Color Primario"),e.createElement("input",{type:"color",className:"h-10 w-full rounded-md border border-[hsl(var(--border))] cursor-pointer",value:a.theme_primary||"#1e88e5",onChange:t=>l("theme_primary",t.target.value)})),e.createElement("div",null,e.createElement("label",{className:"flex items-center gap-3 cursor-pointer mt-5"},e.createElement("input",{type:"checkbox",className:"h-4 w-4 rounded border-[hsl(var(--border))]",checked:a.compact_mode==="1",onChange:t=>l("compact_mode",t.target.checked?"1":"0")}),e.createElement("span",{className:"text-sm"},"Modo Compacto (táctil)"))))),e.createElement(o,{title:"Notificaciones y Alertas",icon:A},e.createElement("div",{className:"space-y-4"},e.createElement("label",{className:"flex items-center gap-3 cursor-pointer"},e.createElement("input",{type:"checkbox",className:"h-4 w-4 rounded border-[hsl(var(--border))]",checked:a.sound_enabled==="1",onChange:t=>l("sound_enabled",t.target.checked?"1":"0")}),e.createElement("span",{className:"text-sm"},"Sonido al escanear producto")),e.createElement("div",{className:"flex items-center gap-4"},e.createElement("label",{className:"text-sm"},"Alerta de stock bajo cuando queden:"),e.createElement(r,{type:"number",className:"w-20",value:a.low_stock_threshold||"5",onChange:t=>l("low_stock_threshold",t.target.value)}),e.createElement("span",{className:"text-sm text-[hsl(var(--muted-foreground))]"},"unidades")),e.createElement("label",{className:"flex items-center gap-3 cursor-pointer"},e.createElement("input",{type:"checkbox",className:"h-4 w-4 rounded border-[hsl(var(--border))]",checked:a.require_customer==="1",onChange:t=>l("require_customer",t.target.checked?"1":"0")}),e.createElement("span",{className:"text-sm"},"Requerir cliente en cada venta")))))};export{Z as default};
