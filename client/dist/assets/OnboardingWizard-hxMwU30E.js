import{c as p,o as M,u as T,r as o,d as e,C as j,U as h,p as g,I as r,B as m,q as I,s as O,t as L,e as i}from"./index-DJpstOmH.js";import{B as b,P as x}from"./percent-Bs2I49W-.js";import{C as U}from"./check-CBRZxXiZ.js";/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],E=p("party-popper",A);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],v=p("sparkles",B),c=[{id:"welcome",title:"Bienvenido",icon:v},{id:"business",title:"Tu Negocio",icon:b},{id:"tax",title:"Impuestos",icon:x},{id:"admin",title:"Administrador",icon:h},{id:"product",title:"Primer Producto",icon:g},{id:"done",title:"¡Listo!",icon:E}],q=()=>{const N=M(),{login:f}=T(),[s,d]=o.useState(0),[y,u]=o.useState(!1),[t,_]=o.useState({business_name:"",business_address:"",business_phone:"",tax_rate:"16",tax_name:"IVA",admin_username:"admin",admin_password:"",product_name:"",product_price:"",product_sku:""}),n=(a,l)=>{_(P=>({...P,[a]:l}))},k=()=>d(a=>Math.min(a+1,c.length-1)),w=()=>d(a=>Math.max(a-1,0)),C=async()=>{u(!0);try{await i("/settings",{method:"PUT",body:JSON.stringify({business_name:t.business_name,business_address:t.business_address,business_phone:t.business_phone,tax_rate:(parseFloat(t.tax_rate)/100).toFixed(4),tax_name:t.tax_name,onboarding_complete:"1"})}),t.product_name&&t.product_price&&await i("/products",{method:"POST",body:JSON.stringify({name:t.product_name,price:parseFloat(t.product_price),sku:t.product_sku||`SKU-${Date.now()}`,stock:100})});const a=await i("/auth/login",{method:"POST",body:JSON.stringify({username:"admin",password:"admin123"})});f(a.user,a.token),N("/ventas")}catch(a){alert("Error: "+a.message)}finally{u(!1)}},S=(s+1)/c.length*100;return e.createElement("div",{className:"min-h-screen bg-gradient-to-br from-blue-600 via-purple-600 to-pink-500 flex items-center justify-center p-4"},e.createElement(j,{className:"w-full max-w-xl p-8 shadow-2xl animate-fade-in"},e.createElement("div",{className:"mb-8"},e.createElement("div",{className:"flex justify-between mb-2"},c.map((a,l)=>e.createElement("div",{key:a.id,className:`flex items-center justify-center h-8 w-8 rounded-full transition-all ${l<s?"bg-green-500 text-white":l===s?"bg-[hsl(var(--primary))] text-white ring-4 ring-blue-200":"bg-gray-200 text-gray-400"}`},l<s?e.createElement(U,{className:"h-4 w-4"}):e.createElement(a.icon,{className:"h-4 w-4"})))),e.createElement("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden"},e.createElement("div",{className:"h-full bg-gradient-to-r from-blue-500 to-purple-500 transition-all duration-300",style:{width:`${S}%`}}))),e.createElement("div",{className:"min-h-[280px]"},s===0&&e.createElement("div",{className:"text-center py-8"},e.createElement(v,{className:"h-16 w-16 mx-auto text-[hsl(var(--primary))] mb-4"}),e.createElement("h2",{className:"text-2xl font-bold mb-2"},"¡Bienvenido a POS Pro!"),e.createElement("p",{className:"text-[hsl(var(--muted-foreground))]"},"Configuremos tu sistema de punto de venta en solo unos minutos.")),s===1&&e.createElement("div",{className:"space-y-4"},e.createElement("h2",{className:"text-xl font-bold flex items-center gap-2"},e.createElement(b,{className:"h-5 w-5"})," Información del Negocio"),e.createElement(r,{placeholder:"Nombre del negocio",value:t.business_name,onChange:a=>n("business_name",a.target.value)}),e.createElement(r,{placeholder:"Dirección (opcional)",value:t.business_address,onChange:a=>n("business_address",a.target.value)}),e.createElement(r,{placeholder:"Teléfono (opcional)",value:t.business_phone,onChange:a=>n("business_phone",a.target.value)})),s===2&&e.createElement("div",{className:"space-y-4"},e.createElement("h2",{className:"text-xl font-bold flex items-center gap-2"},e.createElement(x,{className:"h-5 w-5"})," Configuración de Impuestos"),e.createElement("div",{className:"grid grid-cols-2 gap-4"},e.createElement(r,{placeholder:"Nombre (ej: IVA)",value:t.tax_name,onChange:a=>n("tax_name",a.target.value)}),e.createElement(r,{type:"number",placeholder:"Tasa (%)",value:t.tax_rate,onChange:a=>n("tax_rate",a.target.value)})),e.createElement("p",{className:"text-sm text-[hsl(var(--muted-foreground))]"},"Puedes cambiar esto después en Configuración.")),s===3&&e.createElement("div",{className:"space-y-4"},e.createElement("h2",{className:"text-xl font-bold flex items-center gap-2"},e.createElement(h,{className:"h-5 w-5"})," Usuario Administrador"),e.createElement("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200"},e.createElement("p",{className:"text-sm"},e.createElement("strong",null,"Usuario:")," admin"),e.createElement("p",{className:"text-sm"},e.createElement("strong",null,"Contraseña:")," admin123")),e.createElement("p",{className:"text-sm text-[hsl(var(--muted-foreground))]"},"Recuerda cambiar la contraseña después de iniciar sesión.")),s===4&&e.createElement("div",{className:"space-y-4"},e.createElement("h2",{className:"text-xl font-bold flex items-center gap-2"},e.createElement(g,{className:"h-5 w-5"})," Tu Primer Producto"),e.createElement(r,{placeholder:"Nombre del producto",value:t.product_name,onChange:a=>n("product_name",a.target.value)}),e.createElement("div",{className:"grid grid-cols-2 gap-4"},e.createElement(r,{type:"number",placeholder:"Precio",value:t.product_price,onChange:a=>n("product_price",a.target.value)}),e.createElement(r,{placeholder:"SKU (opcional)",value:t.product_sku,onChange:a=>n("product_sku",a.target.value)}))),s===5&&e.createElement("div",{className:"text-center py-8"},e.createElement(E,{className:"h-16 w-16 mx-auto text-green-500 mb-4"}),e.createElement("h2",{className:"text-2xl font-bold mb-2"},"¡Todo Listo!"),e.createElement("p",{className:"text-[hsl(var(--muted-foreground))]"},"Tu sistema POS está configurado y listo para usar."))),e.createElement("div",{className:"flex justify-between mt-8"},s>0&&s<c.length-1?e.createElement(m,{variant:"outline",onClick:w},e.createElement(I,{className:"h-4 w-4 mr-1"})," Anterior"):e.createElement("div",null),s<c.length-1?e.createElement(m,{onClick:k},"Siguiente ",e.createElement(O,{className:"h-4 w-4 ml-1"})):e.createElement(m,{onClick:C,isLoading:y,className:"bg-green-600 hover:bg-green-700"},e.createElement(L,{className:"h-4 w-4 mr-2"})," Comenzar a Vender"))))};export{q as default};
